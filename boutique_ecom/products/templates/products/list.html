   {% extends 'base.html' %}
   {% load static %}
   {% block title %}Products{% endblock %}

   {% block content %}
   <div class="container mt-4">
       <h1>Our Products</h1>
       
       <!-- Optional: Category Filter -->
       {% if categories %}
       <div class="mb-3">
           <label class="form-label">Filter by Category:</label>
           <select class="form-select" onchange="window.location.href=this.value">
               <option value="{% url 'product_list' %}">All</option>
               {% for cat in categories %}
               <option value="{% url 'product_list' %}?category={{ cat.name }}" {% if category == cat %}selected{% endif %}>{{ cat.name }}</option>
               {% endfor %}
           </select>
       </div>
       {% endif %}
       
       <!-- Messages (e.g., from login/cart) -->
       {% if messages %}
           {% for message in messages %}
               <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                   {{ message }}
                   <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
               </div>
           {% endfor %}
       {% endif %}
       
       <!-- Products Grid -->
       {% if products %}
       <div class="row">
           {% for product in products %}
           <div class="col-md-4 mb-4">
               <div class="card h-100">
                   {% if product.image %}
                   <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 200px; object-fit: cover;">
                   {% endif %}
                   <div class="card-body">
                       <h5 class="card-title">{{ product.name }}</h5>
                       <p class="card-text">{{ product.description|truncatewords:20 }}</p>  <!-- Optional description -->
                       <p class="card-text"><strong>${{ product.price|floatformat:2 }}</strong></p>
                       <a href="{% url 'add_to_cart' product.id %}" class="btn btn-primary me-2">Add to Cart</a>
                       <a href="#" class="btn btn-outline-secondary">View Details</a>  <!-- Add detail view later -->
                   </div>
               </div>
           </div>
           {% endfor %}
       </div>
       {% else %}
       <div class="alert alert-info">
           <h4>No products available.</h4>
           <p>Add some products in the admin panel or <a href="{% url 'product_list' %}">refresh</a>.</p>
       </div>
       {% endif %}
   </div>
   {% endblock %}
   